# datamodel-to-oas
Data model to Open API Specification (FKA - Swagger) generator is an NPM module that generates OAS from a data model in JSON format.

### Why the urgency of Data-Driven APIs?

The intend of Data-driven APIs is to address the following concerns:

- **Consistency:** APIs automatically generated by machines are more consistent than those generated by human beings by hand.
- **Plugability:** As more data becomes available from underlying datasources, APIs expose these resources with minimal effort and in a controlled manner.
- **Maintainability:** your APIs evolve and require changes over time. Changing hundreds of resources should not take more time than changing a single one.
- **Affordance:** By leveraging a data model as the foundation of your API, you provide access to your APIs from a data standpoint, similar to how we are used to access databases with SQL statements. Accessing your API resources should be similar. For instance, being able to filter, include or exclude attributes and nested entities, establish relationships and include hypermedia/HATEOAS automatically.
- **Abstraction:** APIs are becoming more mature by specification and standards produced by the industry. There is no need to produce a new standard. datamodel-to-oas uses standard JSON as input to define a model along with its relationships. Then, it converts entities within the model into an OAS specification with paths, parameters, and annotation/vendor extensions with models. The the OAS can be used as the input to integrate backend systems with abstration layers. e.g. ORMs with Sequelize.js for relational databases, Mongoose for MongoDB for document oriented databases, SOAP stubs generated from WSDL files, or other Web APIs via their SDKs.

![Data-Driven APIs](https://raw.githubusercontent.com/dzuluaga/datamodel-to-oas/master/images/data-driven-apis-oas.png "Data-Driven APIs")

### Installation

```
npm install datamodel-to-oas -g
```

### Using the CLI
Using the CLI is easy:
```bash
 $ git clone git@github.com:dzuluaga/datamodel-to-oas.git
 $ cd datamodel-to-oas
 $ cd test
 $ datamodel-to-oas generate sample-data-model.json
```
That's it. You should be able to pipe the output of the generated oas file to either a file or the clipboard with pbcopy.

### Using the API
The following example can be found under test/app.js:  
```javascript
var datamodelToSwagger = require('../index');

datamodelToOas.generateOas( require('./sample-data-model.json') )
    .then( function( oasDoc ) {
      console.log( JSON.stringify( oasDoc, null, 2 ) );
    })
    .catch( function( err ) {
      console.log( err.stack );
    });
```
The Node.js module returns a promise with an Open API Specification resolving sample-data-model.json.

### Feedback and pull requests

Feel free to open an issue to submit feedback or a pull request to incorporate features into the main branch.